<?php
// Connect to DB
$conn = new mysqli("localhost", "root", "", "stencil");
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}
$name = "Guest";
$sql = "SELECT name FROM signup ORDER BY id DESC LIMIT 1";
$result = $conn->query($sql);
if ($result && $result->num_rows > 0) {
    $row = $result->fetch_assoc();
    $name = htmlspecialchars($row['name']);
}
?>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stencil Art Gallery</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet" />

    <style>
        body {
            background: linear-gradient(135deg, #fdf6e3 0%, #f5e6f7 100%);
            font-family: 'Montserrat', Arial, sans-serif;
            min-height: 100vh;
        }

        .navbar {
            box-shadow: 0 2px 12px rgba(120, 56, 144, 0.07);
        }
        .navbar-brand {
            font-family: 'Dancing Script', cursive;
            font-size: 2.3rem;
            color: #8436c6 !important;
            letter-spacing: 1px;
        }
        .navbar-nav .nav-link.active,
        .navbar-nav .nav-link:hover {
            color: #8f5fe8 !important;
            font-weight: 600;
        }

        /* Carousel */
        .carousel-img {
            height: 46vh;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 4px 24px rgba(132, 54, 198, 0.07);
        }
        .carousel-inner {
            border-radius: 18px;
        }

        /* Section Headers */
        .hero-title {
            color: #8436c6;
            font-family: 'Dancing Script', cursive;
            font-size: 2.9rem;
            margin-bottom: 0.7rem;
        }
        .section-sub {
            color: #8f5fe8;
            font-weight: 600;
        }

        /* Cards */
        .drawing-card {
            border: none;
            border-radius: 18px;
            overflow: hidden;
            transition: transform 0.25s, box-shadow 0.2s;
            box-shadow: 0 2px 24px rgba(168, 106, 220, 0.06);
            background: #fff;
        }
        .drawing-card:hover {
            transform: translateY(-7px) scale(1.03);
            box-shadow: 0 8px 32px rgba(168, 106, 220, 0.16);
        }
        .card-img-top {
            height: 210px;
            object-fit: cover;
            border-radius: 10px 10px 0 0;
            transition: filter .35s;
            filter: grayscale(12%) contrast(0.98);
        }
        .drawing-card:hover .card-img-top {
            filter: none;
        }
        .card-title {
            font-family: 'Montserrat', Arial, sans-serif;
          Â  font-weight: 600;
            color: #8436c6;
            letter-spacing: 0.5px;
        }
        .btn-fancy {
            background: linear-gradient(80deg, #ffc45f 0%, #ff6fae 100%);
            color: #fff;
            border: none;
            font-weight: 600;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(166,59,255,0.09);
            transition: background .22s, box-shadow .22s, color .2s;
        }
        .btn-fancy:hover {
            background: linear-gradient(80deg, #ff6fae 0%, #ffc45f 100%);
            color: #fffced;
            box-shadow: 0 6px 18px rgba(255,111,174,0.13);
        }

        /* Modal */
        .modal-content {
            border-radius: 26px;
            background: linear-gradient(135deg,#7c30b5 0%,#463563 100%);
            color: white;
            box-shadow: 0 7px 34px rgba(124,48,181,0.16);
        }
        .modal-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: #ffd063;
        }
        .form-label {
            color: #e6cfff;
            font-weight: 500;
        }
        .form-control {
            border-radius: 10px;
            min-height: 44px;
            background: #f7f2fa;
            border: 1.2px solid #c7b0f6;
        }
        .form-control:focus {
            border-color: #ffd063;
            box-shadow: 0 0 0 .19rem rgba(255, 208, 99, 0.2);
        }
        .btn-gradient {
            background: linear-gradient(80deg, #ffc45f 0%, #ff6fae 100%);
            color: #35245e;
            font-weight: 700;
            border-radius: 13px;
            border: none;
            margin-top: .7rem;
            transition: background .2s;
        }
        .btn-gradient:hover {
            background: linear-gradient(80deg, #ff6fae 0%, #ffc45f 100%);
            color: #fffced;
        }

        /* Profile avatar style */
        .profile-avatar {
            border: 2.5px solid #ffd063;
            box-shadow: 0 3px 10px rgba(255,197,95,0.11);
        }

        /* Extras */
        .carousel-section, .gallery-section {
            padding-top: 16px;
        }
        footer {
            margin-top: 55px;
            padding: 25px 0 17px;
            background: rgba(132,54,198,.12);
            text-align: center;
            color: #764dad;
            font-weight: 600;
        }
    </style>
</head>
<body>

<!-- Navbar -->
<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="container-fluid px-3">
            <a class="navbar-brand" href="#">StencilArt</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-1">
                    <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="./imgupload.php">Upload</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#signupModal">Signup</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink"
                            role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Categories
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark p-3" aria-labelledby="navbarDropdownMenuLink" style="min-width:400px;">
                            <div class="row">
                                <div class="col-4">
                                    <li><a class="dropdown-item" href="#">Stencil Art</a></li>
                                    <li><a class="dropdown-item" href="#">Doodle Design</a></li>
                                    <li><a class="dropdown-item" href="#">Mandala Artwork</a></li>
                                    <li><a class="dropdown-item" href="#">Zentangle</a></li>
                                </div>
                                <div class="col-4">
                                    <li><a class="dropdown-item" href="#">Sketching</a></li>
                                    <li><a class="dropdown-item" href="#">Tattoo</a></li>
                                    <li><a class="dropdown-item" href="#">Pen Art</a></li>
                                </div>
                                <div class="col-4">
                                    <li><a class="dropdown-item" href="#">Painting</a></li>
                                    <li><a class="dropdown-item" href="#">Complex Design</a></li>
                                    <li><a class="dropdown-item" href="#">Sophisticated</a></li>
                                </div>
                            </div>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="profileDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="https://ui-avatars.com/api/?name=<?php echo urlencode($name); ?>&background=FF6FAE&color=fff&rounded=true" alt="Profile Avatar" class="rounded-circle profile-avatar" width="32" height="32" />
                            <span class="ms-2 fw-semibold"><?php echo $name; ?></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="profileDropdown">
                            <li><a class="dropdown-item" href="#">Profile</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="logout.php">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<!-- Carousel -->
<section class="carousel-section container mb-4">
    <div id="carouselMain" class="carousel slide mt-4" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="./assist/banner/pexels-karolina-grabowska-6920283.jpg"
                    class="d-block w-100 carousel-img" alt="Banner">
            </div>
            <div class="carousel-item">
                <img src="./assist/banner/pexels-mahdi-chaghari-9996334-6134734.jpg"
                    class="d-block w-100 carousel-img" alt="Second slide">
            </div>
            <div class="carousel-item">
                <img src="./assist/banner/pexels-olly-3771055.jpg"
                    class="d-block w-100 carousel-img" alt="Third slide">
            </div>
        </div>
    </div>
</section>

<!-- Gallery Section -->
<section class="gallery-section">
    <div class="container py-4">
        <div class="text-center" data-aos="fade-in" data-aos-delay="100">
            <div class="hero-title">ðŸŽ¨ Drawing Collection</div>
            <div class="section-sub mb-5">Explore, appreciate, and download stunning hand-made art.</div>
        </div>
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
            <!-- Sample Cards -->
            <div class="col" data-aos="zoom-in-up" data-aos-duration="700" data-aos-delay="0">
                <div class="card drawing-card h-100">
                    <img src="./assist/post/shivshamba.jpeg" class="card-img-top" alt="Drawing 1" />
                    <div class="card-body text-center">
                        <h5 class="card-title">Pencil Art 1</h5>
                        <button class="btn btn-fancy w-75">Download</button>
                    </div>
                </div>
            </div>
            <div class="col" data-aos="zoom-in-up" data-aos-duration="700" data-aos-delay="50">
                <div class="card drawing-card h-100">
                    <img src="./assist/post/siva.jpeg" class="card-img-top" alt="Drawing 2" />
                    <div class="card-body text-center">
                        <h5 class="card-title">Scenery Sketch 2</h5>
                        <button class="btn btn-fancy w-75">Download</button>
                    </div>
                </div>
            </div>
            <div class="col" data-aos="zoom-in-up" data-aos-duration="700" data-aos-delay="100">
                <div class="card drawing-card h-100">
                    <img src="./assist/post/devil.jpeg" class="card-img-top" alt="Abstract Lines 3" />
                    <div class="card-body text-center">
                        <h5 class="card-title">Abstract Lines 3</h5>
                        <button class="btn btn-fancy w-75">Download</button>
                    </div>
                </div>
            </div>
            <div class="col" data-aos="zoom-in-up" data-aos-duration="700" data-aos-delay="150">
                <div class="card drawing-card h-100">
                    <img src="./assist/post/evil.jpeg" class="card-img-top" alt="Modern Art 4" />
                    <div class="card-body text-center">
                        <h5 class="card-title">Modern Art 4</h5>
                        <button class="btn btn-fancy w-75">Download</button>
                    </div>
                </div>
            </div>
            <!-- You can copy cards below or loop for more artworks -->
            <div class="col" data-aos="zoom-in-up" data-aos-delay="200"><div class="card drawing-card h-100"><img src="./assist/post/sethu.jpeg" class="card-img-top" alt="Drawing 5" /><div class="card-body text-center"><h5 class="card-title">Pencil Art 5</h5><button class="btn btn-fancy w-75">Download</button></div></div></div>
            <div class="col" data-aos="zoom-in-up" data-aos-delay="250"><div class="card drawing-card h-100"><img src="./assist/post/dragon.jpeg" class="card-img-top" alt="Drawing 6" /><div class="card-body text-center"><h5 class="card-title">Scenery Sketch 6</h5><button class="btn btn-fancy w-75">Download</button></div></div></div>
            <div class="col" data-aos="zoom-in-up" data-aos-delay="300"><div class="card drawing-card h-100"><img src="./assist/post/joker.jpeg" class="card-img-top" alt="Abstract Lines 7" /><div class="card-body text-center"><h5 class="card-title">Abstract Lines 7</h5><button class="btn btn-fancy w-75">Download</button></div></div></div>
            <div class="col" data-aos="zoom-in-up" data-aos-delay="350"><div class="card drawing-card h-100"><img src="./assist/post/thons.jpeg" class="card-img-top" alt="Modern Art 8" /><div class="card-body text-center"><h5 class="card-title">Modern Art 8</h5><button class="btn btn-fancy w-75">Download</button></div></div></div>
            <div class="col" data-aos="zoom-in-up" data-aos-delay="400"><div class="card drawing-card h-100"><img src="./assist/post/picoc.jpeg" class="card-img-top" alt="Drawing 9" /><div class="card-body text-center"><h5 class="card-title">Pencil Art 9</h5><button class="btn btn-fancy w-75">Download</button></div></div></div>
            <div class="col" data-aos="zoom-in-up" data-aos-delay="450"><div class="card drawing-card h-100"><img src="./assist/post/agor.jpeg" class="card-img-top" alt="Drawing 10" /><div class="card-body text-center"><h5 class="card-title">Scenery Sketch 10</h5><button class="btn btn-fancy w-75">Download</button></div></div></div>
            <div class="col" data-aos="zoom-in-up" data-aos-delay="500"><div class="card drawing-card h-100"><img src="./assist/post/devil.jpeg" class="card-img-top" alt="Abstract Lines 11" /><div class="card-body text-center"><h5 class="card-title">Abstract Lines 11</h5><button class="btn btn-fancy w-75">Download</button></div></div></div>
            <div class="col" data-aos="zoom-in-up" data-aos-delay="550"><div class="card drawing-card h-100"><img src="./assist/post/evil.jpeg" class="card-img-top" alt="Modern Art 12" /><div class="card-body text-center"><h5 class="card-title">Modern Art 12</h5><button class="btn btn-fancy w-75">Download</button></div></div></div>
        </div>
    </div>
</section>

<!-- Signup Modal -->
<div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-3">
            <div class="modal-header border-0">
                <h5 class="modal-title" id="signupModalLabel">Create Your Account</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="signup.php" method="POST">
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input type="text"
                        class="form-control"
                        id="name"
                        name="name"
                        placeholder="Enter name"
                        required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email address</label>
                    <input type="email"
                        class="form-control"
                        id="email"
                        name="email"
                        placeholder="Enter Email"
                        required>
                </div>
                <div class="mb-3">
                    <label for="pwd" class="form-label">Password</label>
                    <input type="password"
                        class="form-control"
                        id="pwd"
                        name="pwd"
                        placeholder="Password"
                        required>
                </div>
                <button type="submit" class="btn btn-gradient w-100">Create Account</button>
            </form>
        </div>
    </div>
</div>

<footer>
    &copy; <?php echo date("Y"); ?> StencilArt Gallery &mdash; Drawing, Style & Inspiration.
</footer>

<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script>
    AOS.init({
        duration: 800,
        once: true
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</body>
</html>
